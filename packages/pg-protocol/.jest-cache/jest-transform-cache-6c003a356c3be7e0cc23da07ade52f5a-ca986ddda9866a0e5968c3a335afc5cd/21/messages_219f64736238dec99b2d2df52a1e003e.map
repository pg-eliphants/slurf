{"file":"C:\\repos\\node-postgres\\packages\\pg-protocol\\src\\messages.ts","mappings":";;;AAoCa,QAAA,aAAa,GAAmB;IACzC,IAAI,EAAE,eAAe;IACrB,MAAM,EAAE,CAAC;CACZ,CAAC;AAEW,QAAA,YAAY,GAAmB;IACxC,IAAI,EAAE,cAAc;IACpB,MAAM,EAAE,CAAC;CACZ,CAAC;AAEW,QAAA,aAAa,GAAmB;IACzC,IAAI,EAAE,eAAe;IACrB,MAAM,EAAE,CAAC;CACZ,CAAC;AAEW,QAAA,MAAM,GAAmB;IAClC,IAAI,EAAE,QAAQ;IACd,MAAM,EAAE,CAAC;CACZ,CAAC;AAEW,QAAA,eAAe,GAAmB;IAC3C,IAAI,EAAE,iBAAiB;IACvB,MAAM,EAAE,CAAC;CACZ,CAAC;AAEW,QAAA,gBAAgB,GAAmB;IAC5C,IAAI,EAAE,kBAAkB;IACxB,MAAM,EAAE,CAAC;CACZ,CAAC;AAEW,QAAA,UAAU,GAAmB;IACtC,IAAI,EAAE,YAAY;IAClB,MAAM,EAAE,CAAC;CACZ,CAAC;AAEW,QAAA,QAAQ,GAAmB;IACpC,IAAI,EAAE,UAAU;IAChB,MAAM,EAAE,CAAC;CACZ,CAAC;AAsBF,MAAa,aAAc,SAAQ,KAAK;IAmBhB;IACS;IAnBtB,QAAQ,CAAU;IAClB,IAAI,CAAU;IACd,MAAM,CAAU;IAChB,IAAI,CAAU;IACd,QAAQ,CAAU;IAClB,gBAAgB,CAAU;IAC1B,aAAa,CAAU;IACvB,KAAK,CAAU;IACf,MAAM,CAAU;IAChB,KAAK,CAAU;IACf,MAAM,CAAU;IAChB,QAAQ,CAAU;IAClB,UAAU,CAAU;IACpB,IAAI,CAAU;IACd,IAAI,CAAU;IACd,OAAO,CAAU;IACxB,YACI,OAAe,EACC,MAAc,EACL,IAAiB;QAE1C,KAAK,CAAC,OAAO,CAAC,CAAC;QAHC,WAAM,GAAN,MAAM,CAAQ;QACL,SAAI,GAAJ,IAAI,CAAa;IAG9C,CAAC;CACJ;AAxBD,sCAwBC;AAED,MAAa,eAAe;IAGJ;IACA;IAHJ,IAAI,GAAG,UAAU,CAAC;IAClC,YACoB,MAAc,EACd,KAAa;QADb,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAQ;IAC9B,CAAC;CACP;AAND,0CAMC;AAED,MAAa,YAAY;IAGD;IACA;IACA;IAJJ,WAAW,CAAW;IACtC,YACoB,MAAc,EACd,IAAiB,EACjB,MAAe,EAC/B,WAAmB;QAHH,WAAM,GAAN,MAAM,CAAQ;QACd,SAAI,GAAJ,IAAI,CAAa;QACjB,WAAM,GAAN,MAAM,CAAS;QAG/B,IAAI,CAAC,WAAW,GAAG,IAAI,KAAK,CAAC,WAAW,CAAC,CAAC;IAC9C,CAAC;CACJ;AAVD,oCAUC;AAED,MAAa,KAAK;IAEM;IACA;IACA;IACA;IACA;IACA;IACA;IAPpB,YACoB,IAAY,EACZ,OAAe,EACf,QAAgB,EAChB,UAAkB,EAClB,YAAoB,EACpB,gBAAwB,EACxB,MAAY;QANZ,SAAI,GAAJ,IAAI,CAAQ;QACZ,YAAO,GAAP,OAAO,CAAQ;QACf,aAAQ,GAAR,QAAQ,CAAQ;QAChB,eAAU,GAAV,UAAU,CAAQ;QAClB,iBAAY,GAAZ,YAAY,CAAQ;QACpB,qBAAgB,GAAhB,gBAAgB,CAAQ;QACxB,WAAM,GAAN,MAAM,CAAM;IAC7B,CAAC;CACP;AAVD,sBAUC;AAED,MAAa,qBAAqB;IAIV;IACA;IAJJ,IAAI,GAAgB,gBAAgB,CAAC;IACrC,MAAM,CAAU;IAChC,YACoB,MAAc,EACd,UAAkB;QADlB,WAAM,GAAN,MAAM,CAAQ;QACd,eAAU,GAAV,UAAU,CAAQ;QAElC,IAAI,CAAC,MAAM,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAC7C,CAAC;CACJ;AATD,sDASC;AAED,MAAa,2BAA2B;IAIhB;IACA;IAJJ,IAAI,GAAgB,sBAAsB,CAAC;IAC3C,WAAW,CAAW;IACtC,YACoB,MAAc,EACd,cAAsB;QADtB,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAQ;QAEtC,IAAI,CAAC,WAAW,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IACtD,CAAC;CACJ;AATD,kEASC;AAED,MAAa,sBAAsB;IAGX;IACA;IACA;IAJJ,IAAI,GAAgB,iBAAiB,CAAC;IACtD,YACoB,MAAc,EACd,aAAqB,EACrB,cAAsB;QAFtB,WAAM,GAAN,MAAM,CAAQ;QACd,kBAAa,GAAb,aAAa,CAAQ;QACrB,mBAAc,GAAd,cAAc,CAAQ;IACvC,CAAC;CACP;AAPD,wDAOC;AAED,MAAa,yBAAyB;IAGd;IACA;IAHJ,IAAI,GAAgB,2BAA2B,CAAC;IAChE,YACoB,MAAc,EACd,IAAY;QADZ,WAAM,GAAN,MAAM,CAAQ;QACd,SAAI,GAAJ,IAAI,CAAQ;IAC7B,CAAC;CACP;AAND,8DAMC;AAED,MAAa,qBAAqB;IAGV;IACA;IACA;IAJJ,IAAI,GAAgB,gBAAgB,CAAC;IACrD,YACoB,MAAc,EACd,SAAiB,EACjB,SAAiB;QAFjB,WAAM,GAAN,MAAM,CAAQ;QACd,cAAS,GAAT,SAAS,CAAQ;QACjB,cAAS,GAAT,SAAS,CAAQ;IAClC,CAAC;CACP;AAPD,sDAOC;AAED,MAAa,2BAA2B;IAGhB;IACA;IACA;IACA;IALJ,IAAI,GAAgB,cAAc,CAAC;IACnD,YACoB,MAAc,EACd,SAAiB,EACjB,OAAe,EACf,OAAe;QAHf,WAAM,GAAN,MAAM,CAAQ;QACd,cAAS,GAAT,SAAS,CAAQ;QACjB,YAAO,GAAP,OAAO,CAAQ;QACf,YAAO,GAAP,OAAO,CAAQ;IAChC,CAAC;CACP;AARD,kEAQC;AAED,MAAa,oBAAoB;IAGT;IACA;IAHJ,IAAI,GAAgB,eAAe,CAAC;IACpD,YACoB,MAAc,EACd,MAAc;QADd,WAAM,GAAN,MAAM,CAAQ;QACd,WAAM,GAAN,MAAM,CAAQ;IAC/B,CAAC;CACP;AAND,oDAMC;AAED,MAAa,sBAAsB;IAGX;IACA;IAHJ,IAAI,GAAgB,iBAAiB,CAAC;IACtD,YACoB,MAAc,EACd,IAAY;QADZ,WAAM,GAAN,MAAM,CAAQ;QACd,SAAI,GAAJ,IAAI,CAAQ;IAC7B,CAAC;CACP;AAND,wDAMC;AAED,MAAa,cAAc;IAIZ;IACA;IAJK,UAAU,CAAS;IACnB,IAAI,GAAgB,SAAS,CAAC;IAC9C,YACW,MAAc,EACd,MAAa;QADb,WAAM,GAAN,MAAM,CAAQ;QACd,WAAM,GAAN,MAAM,CAAO;QAEpB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC;IACpC,CAAC;CACJ;AATD,wCASC;AAED,MAAa,aAAa;IAEF;IACA;IAFpB,YACoB,MAAc,EACd,OAAe;QADf,WAAM,GAAN,MAAM,CAAQ;QACd,YAAO,GAAP,OAAO,CAAQ;IAChC,CAAC;IACY,IAAI,GAAG,QAAQ,CAAC;IACzB,QAAQ,CAAU;IAClB,IAAI,CAAU;IACd,MAAM,CAAU;IAChB,IAAI,CAAU;IACd,QAAQ,CAAU;IAClB,gBAAgB,CAAU;IAC1B,aAAa,CAAU;IACvB,KAAK,CAAU;IACf,MAAM,CAAU;IAChB,KAAK,CAAU;IACf,MAAM,CAAU;IAChB,QAAQ,CAAU;IAClB,UAAU,CAAU;IACpB,IAAI,CAAU;IACd,IAAI,CAAU;IACd,OAAO,CAAU;CAC3B;AAtBD,sCAsBC","names":[],"sources":["C:\\repos\\node-postgres\\packages\\pg-protocol\\src\\messages.ts"],"sourcesContent":["export type Mode = 'text' | 'binary';\r\n\r\nexport type MessageName =\r\n    | 'parseComplete'\r\n    | 'bindComplete'\r\n    | 'closeComplete'\r\n    | 'noData'\r\n    | 'portalSuspended'\r\n    | 'replicationStart'\r\n    | 'emptyQuery'\r\n    | 'copyDone'\r\n    | 'copyData'\r\n    | 'rowDescription'\r\n    | 'parameterDescription'\r\n    | 'parameterStatus'\r\n    | 'backendKeyData'\r\n    | 'notification'\r\n    | 'readyForQuery'\r\n    | 'commandComplete'\r\n    | 'dataRow'\r\n    | 'copyInResponse'\r\n    | 'copyOutResponse'\r\n    | 'authenticationOk'\r\n    | 'authenticationMD5Password'\r\n    | 'authenticationCleartextPassword'\r\n    | 'authenticationSASL'\r\n    | 'authenticationSASLContinue'\r\n    | 'authenticationSASLFinal'\r\n    | 'error'\r\n    | 'notice';\r\n\r\nexport interface BackendMessage {\r\n    name: MessageName;\r\n    length: number;\r\n}\r\n\r\nexport const parseComplete: BackendMessage = {\r\n    name: 'parseComplete',\r\n    length: 5\r\n};\r\n\r\nexport const bindComplete: BackendMessage = {\r\n    name: 'bindComplete',\r\n    length: 5\r\n};\r\n\r\nexport const closeComplete: BackendMessage = {\r\n    name: 'closeComplete',\r\n    length: 5\r\n};\r\n\r\nexport const noData: BackendMessage = {\r\n    name: 'noData',\r\n    length: 5\r\n};\r\n\r\nexport const portalSuspended: BackendMessage = {\r\n    name: 'portalSuspended',\r\n    length: 5\r\n};\r\n\r\nexport const replicationStart: BackendMessage = {\r\n    name: 'replicationStart',\r\n    length: 4\r\n};\r\n\r\nexport const emptyQuery: BackendMessage = {\r\n    name: 'emptyQuery',\r\n    length: 4\r\n};\r\n\r\nexport const copyDone: BackendMessage = {\r\n    name: 'copyDone',\r\n    length: 4\r\n};\r\n\r\ninterface NoticeOrError {\r\n    message?: string;\r\n    severity?: string;\r\n    code?: string;\r\n    detail?: string;\r\n    hint?: string;\r\n    position?: string;\r\n    internalPosition?: string;\r\n    internalQuery?: string;\r\n    where?: string;\r\n    schema?: string;\r\n    table?: string;\r\n    column?: string;\r\n    dataType?: string;\r\n    constraint?: string;\r\n    file?: string;\r\n    line?: string;\r\n    routine?: string;\r\n}\r\n\r\nexport class DatabaseError extends Error implements NoticeOrError {\r\n    public severity?: string;\r\n    public code?: string;\r\n    public detail?: string;\r\n    public hint?: string;\r\n    public position?: string;\r\n    public internalPosition?: string;\r\n    public internalQuery?: string;\r\n    public where?: string;\r\n    public schema?: string;\r\n    public table?: string;\r\n    public column?: string;\r\n    public dataType?: string;\r\n    public constraint?: string;\r\n    public file?: string;\r\n    public line?: string;\r\n    public routine?: string;\r\n    constructor(\r\n        message: string,\r\n        public readonly length: number,\r\n        public override readonly name: MessageName\r\n    ) {\r\n        super(message);\r\n    }\r\n}\r\n\r\nexport class CopyDataMessage {\r\n    public readonly name = 'copyData';\r\n    constructor(\r\n        public readonly length: number,\r\n        public readonly chunk: Buffer\r\n    ) {}\r\n}\r\n\r\nexport class CopyResponse {\r\n    public readonly columnTypes: number[];\r\n    constructor(\r\n        public readonly length: number,\r\n        public readonly name: MessageName,\r\n        public readonly binary: boolean,\r\n        columnCount: number\r\n    ) {\r\n        this.columnTypes = new Array(columnCount);\r\n    }\r\n}\r\n\r\nexport class Field {\r\n    constructor(\r\n        public readonly name: string,\r\n        public readonly tableID: number,\r\n        public readonly columnID: number,\r\n        public readonly dataTypeID: number,\r\n        public readonly dataTypeSize: number,\r\n        public readonly dataTypeModifier: number,\r\n        public readonly format: Mode\r\n    ) {}\r\n}\r\n\r\nexport class RowDescriptionMessage {\r\n    public readonly name: MessageName = 'rowDescription';\r\n    public readonly fields: Field[];\r\n    constructor(\r\n        public readonly length: number,\r\n        public readonly fieldCount: number\r\n    ) {\r\n        this.fields = new Array(this.fieldCount);\r\n    }\r\n}\r\n\r\nexport class ParameterDescriptionMessage {\r\n    public readonly name: MessageName = 'parameterDescription';\r\n    public readonly dataTypeIDs: number[];\r\n    constructor(\r\n        public readonly length: number,\r\n        public readonly parameterCount: number\r\n    ) {\r\n        this.dataTypeIDs = new Array(this.parameterCount);\r\n    }\r\n}\r\n\r\nexport class ParameterStatusMessage {\r\n    public readonly name: MessageName = 'parameterStatus';\r\n    constructor(\r\n        public readonly length: number,\r\n        public readonly parameterName: string,\r\n        public readonly parameterValue: string\r\n    ) {}\r\n}\r\n\r\nexport class AuthenticationMD5Password implements BackendMessage {\r\n    public readonly name: MessageName = 'authenticationMD5Password';\r\n    constructor(\r\n        public readonly length: number,\r\n        public readonly salt: Buffer\r\n    ) {}\r\n}\r\n\r\nexport class BackendKeyDataMessage {\r\n    public readonly name: MessageName = 'backendKeyData';\r\n    constructor(\r\n        public readonly length: number,\r\n        public readonly processID: number,\r\n        public readonly secretKey: number\r\n    ) {}\r\n}\r\n\r\nexport class NotificationResponseMessage {\r\n    public readonly name: MessageName = 'notification';\r\n    constructor(\r\n        public readonly length: number,\r\n        public readonly processId: number,\r\n        public readonly channel: string,\r\n        public readonly payload: string\r\n    ) {}\r\n}\r\n\r\nexport class ReadyForQueryMessage {\r\n    public readonly name: MessageName = 'readyForQuery';\r\n    constructor(\r\n        public readonly length: number,\r\n        public readonly status: string\r\n    ) {}\r\n}\r\n\r\nexport class CommandCompleteMessage {\r\n    public readonly name: MessageName = 'commandComplete';\r\n    constructor(\r\n        public readonly length: number,\r\n        public readonly text: string\r\n    ) {}\r\n}\r\n\r\nexport class DataRowMessage {\r\n    public readonly fieldCount: number;\r\n    public readonly name: MessageName = 'dataRow';\r\n    constructor(\r\n        public length: number,\r\n        public fields: any[]\r\n    ) {\r\n        this.fieldCount = fields.length;\r\n    }\r\n}\r\n\r\nexport class NoticeMessage implements BackendMessage, NoticeOrError {\r\n    constructor(\r\n        public readonly length: number,\r\n        public readonly message: string\r\n    ) {}\r\n    public readonly name = 'notice';\r\n    public severity?: string;\r\n    public code?: string;\r\n    public detail?: string;\r\n    public hint?: string;\r\n    public position?: string;\r\n    public internalPosition?: string;\r\n    public internalQuery?: string;\r\n    public where?: string;\r\n    public schema?: string;\r\n    public table?: string;\r\n    public column?: string;\r\n    public dataType?: string;\r\n    public constraint?: string;\r\n    public file?: string;\r\n    public line?: string;\r\n    public routine?: string;\r\n}\r\n"],"version":3}